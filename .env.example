# ============================================
# Authentik Configuration File
# ============================================
# Скопируйте этот файл в .env и заполните все необходимые значения
# cp .env.example .env  (Linux/Mac)
# Copy-Item .env.example .env  (Windows PowerShell)

# ============================================
# Database Configuration
# ============================================
# Настройки для PostgreSQL базы данных
PG_DB=authentik
PG_USER=authentik
PG_PASS=changeme-change-this-to-a-secure-password

# ============================================
# Authentik Secret Key (REQUIRED)
# ============================================
# Генерация секретного ключа:
# PowerShell: [Convert]::ToBase64String([System.Security.Cryptography.RandomNumberGenerator]::GetBytes(32))
# Linux/Mac: openssl rand -base64 32
# 
# ВАЖНО: Используйте надежный случайный ключ для production!
AUTHENTIK_SECRET_KEY=changeme-generate-a-secure-secret-key-here

# ============================================
# Authentik Image Configuration
# ============================================
# Версия образа Authentik
AUTHENTIK_IMAGE=ghcr.io/goauthentik/server
AUTHENTIK_TAG=2025.10.3

# ============================================
# Port Configuration (Local Development)
# ============================================
# Порты для доступа к Authentik
# HTTP: http://localhost:9000
# HTTPS: https://localhost:9443
COMPOSE_PORT_HTTP=9000
COMPOSE_PORT_HTTPS=9443

# ============================================
# Super Admin Configuration
# ============================================
# Эти учетные данные используются для автоматического создания
# супер-администратора при первом запуске Authentik
# 
# После первого запуска вы сможете войти используя эти credentials
AUTHENTIK_BOOTSTRAP_EMAIL=admin@localhost
AUTHENTIK_BOOTSTRAP_PASSWORD=changeme-admin-password
AUTHENTIK_BOOTSTRAP_USERNAME=admin

# ============================================
# Local Development Settings
# ============================================
# Настройки для локальной разработки
AUTHENTIK_DISABLE_UPDATE_CHECK=true
AUTHENTIK_DISABLE_STARTUP_ANALYTICS=true
AUTHENTIK_ERROR_REPORTING__ENABLED=false

# ============================================
# Web Configuration (Local Development)
# ============================================
# Настройки веб-интерфейса для локальной разработки
AUTHENTIK_WEB__SECURE_COOKIES=false
AUTHENTIK_WEB__SESSION_TIMEOUT=days=7
AUTHENTIK_WEB__URL=http://localhost:9000

# ============================================
# User Settings
# ============================================
# Настройки для пользователей
AUTHENTIK_DEFAULT_USER_CHANGE_EMAIL=true
AUTHENTIK_DEFAULT_USER_CHANGE_NAME=true
AUTHENTIK_DEFAULT_USER_CHANGE_USERNAME=true

# ============================================
# Security Settings (Relaxed for Local Development)
# ============================================
# Для production измените эти настройки на более строгие
AUTHENTIK_DISABLE_LOGOUT=false
AUTHENTIK_DISABLE_INSECURE_SSL=true

# ============================================
# Listen Configuration
# ============================================
# Настройки прослушивания портов
AUTHENTIK_LISTEN__HTTP=0.0.0.0:9000
AUTHENTIK_LISTEN__HTTPS=0.0.0.0:9443

# ============================================
# HTTP/HTTPS Settings
# ============================================
# Включение/отключение HTTP и HTTPS
AUTHENTIK_DISABLE_HTTP=false
AUTHENTIK_DISABLE_HTTPS=false

# ============================================
# Email Configuration (Optional)
# ============================================
# Настройки для отправки email уведомлений
# Раскомментируйте и заполните для включения почты
# AUTHENTIK_EMAIL__HOST=smtp.example.com
# AUTHENTIK_EMAIL__PORT=587
# AUTHENTIK_EMAIL__USERNAME=your-email@example.com
# AUTHENTIK_EMAIL__PASSWORD=your-password
# AUTHENTIK_EMAIL__USE_TLS=true
# AUTHENTIK_EMAIL__USE_SSL=false
# AUTHENTIK_EMAIL__FROM=noreply@example.com

# ============================================
# Redis Configuration (Optional)
# ============================================
# Redis больше не требуется для Authentik 2025.10.3+
# Оставьте закомментированным
# AUTHENTIK_REDIS__HOST=redis
# AUTHENTIK_REDIS__PASSWORD=
